<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cwjcsu.ybjj.mapper.WxQrCodeMapper">
  <resultMap id="BaseResultMap" type="com.cwjcsu.ybjj.domain.WxQrCode">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="uuid" jdbcType="VARCHAR" property="uuid" />
    <result column="ticket" jdbcType="VARCHAR" property="ticket" />
    <result column="target_id" jdbcType="INTEGER" property="targetId" />
    <result column="open_id" jdbcType="VARCHAR" property="openId" />
    <result column="status" jdbcType="TINYINT" property="status" />
    <result column="remark" jdbcType="VARCHAR" property="remark" />
    <result column="create_time" jdbcType="TIMESTAMP" property="createTime" />
    <result column="expire_seconds" jdbcType="INTEGER" property="expireSeconds" />
    <result column="attachement" jdbcType="VARCHAR" property="attachement" />
    <result column="scene_key" jdbcType="VARCHAR" property="sceneKey" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from wx_qrcode
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" keyProperty="id" parameterType="com.cwjcsu.ybjj.domain.WxQrCode" useGeneratedKeys="true">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into wx_qrcode (uuid, ticket, target_id, 
      open_id, status, remark, 
      create_time, expire_seconds, attachement, 
      scene_key)
    values (#{uuid,jdbcType=VARCHAR}, #{ticket,jdbcType=VARCHAR}, #{targetId,jdbcType=INTEGER}, 
      #{openId,jdbcType=VARCHAR}, #{status,jdbcType=TINYINT}, #{remark,jdbcType=VARCHAR}, 
      #{createTime,jdbcType=TIMESTAMP}, #{expireSeconds,jdbcType=INTEGER}, #{attachement,jdbcType=VARCHAR}, 
      #{sceneKey,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.cwjcsu.ybjj.domain.WxQrCode">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update wx_qrcode
    set uuid = #{uuid,jdbcType=VARCHAR},
      ticket = #{ticket,jdbcType=VARCHAR},
      target_id = #{targetId,jdbcType=INTEGER},
      open_id = #{openId,jdbcType=VARCHAR},
      status = #{status,jdbcType=TINYINT},
      remark = #{remark,jdbcType=VARCHAR},
      create_time = #{createTime,jdbcType=TIMESTAMP},
      expire_seconds = #{expireSeconds,jdbcType=INTEGER},
      attachement = #{attachement,jdbcType=VARCHAR},
      scene_key = #{sceneKey,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select id, uuid, ticket, target_id, open_id, status, remark, create_time, expire_seconds, 
    attachement, scene_key
    from wx_qrcode
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select id, uuid, ticket, target_id, open_id, status, remark, create_time, expire_seconds, 
    attachement, scene_key
    from wx_qrcode
  </select>
<select id="findByTicket" resultType="com.cwjcsu.ybjj.domain.WxQrCode">
select * from wx_qrcode where ticket =#{ticket}
</select>
<delete id="deleteByTicket">
    delete from wx_qrcode where ticket =#{ticket}
</delete>
<select id="findByUUID" resultType="com.cwjcsu.ybjj.domain.WxQrCode">
    select * from wx_qrcode where uuid =#{uuid}
</select>
<delete id="deleteByUUID">
    delete from wx_qrcode where uuid =#{uuid}
</delete>
<delete id="deleteByTargetIdAndSceneKey">
  delete from wx_qrcode where target_id =#{targetId} and scene_key=#{sceneKey}
</delete>
<select id="selectLatestByTargetIdAndSceneKey" resultType="com.cwjcsu.ybjj.domain.WxQrCode">
  select * from wx_qrcode where  target_id =#{targetId} and scene_key=#{sceneKey} order by create_time desc limit 0,1
</select>
</mapper>